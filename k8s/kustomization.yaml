apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: resume-builder

resources:
  # Namespace
  - namespace.yaml
  
  # Config and Secrets
  - config/api-configmap.yaml
  - config/worker-configmap.yaml
  - config/resource-quota.yaml
  - config/limit-range.yaml
  - secrets/api-secrets.yaml
  - secrets/worker-secrets.yaml
  
  # API Service
  - api/serviceaccount.yaml
  - api/deployment.yaml
  - api/service.yaml
  - api/hpa.yaml
  - api/pdb.yaml
  
  # Worker Service
  - worker/serviceaccount.yaml
  - worker/deployment.yaml
  - worker/hpa.yaml
  - worker/pdb.yaml
  
  # Frontend Service
  - frontend/serviceaccount.yaml
  - frontend/deployment.yaml
  - frontend/service.yaml
  - frontend/pdb.yaml
  
  # Networking
  - networking/ingress.yaml
  - networking/network-policy-default.yaml
  - networking/network-policy-api.yaml
  - networking/network-policy-worker.yaml
  - networking/network-policy-frontend.yaml

commonLabels:
  app.kubernetes.io/managed-by: kustomize
  app.kubernetes.io/version: "1.0.0"
